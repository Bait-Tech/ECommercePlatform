<div class="container-fluid p-0">
  <div class="row m-0 bg-white rounded shadow-sm overflow-hidden">
    <div class="col-12">
      <div class="row align-items-center bg-light p-2 border-bottom m-0">
        <div class="col-8 col-md-10">
          <h4 class="m-0">Hero Section</h4>
        </div>
        <div class="col-4 col-md-2 text-end">
          <p-button class="w-100" label="Save Changes" icon="pi pi-plus" styleClass="p-button-success"
            (onClick)="saveChanges()"></p-button>
        </div>
      </div>

      <div id="heroImagesCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#heroImagesCarousel" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Add Image"></button>
          <ng-container *ngFor="let item of heroSection?.heroSectionImageDTOs; let i = index">
            <button type="button" data-bs-target="#heroImagesCarousel" [attr.data-bs-slide-to]="i+1"
              [attr.aria-label]="'Image ' + (i + 1)"></button>
          </ng-container>
        </div>

        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="ratio ratio-16x9">
              <div class="d-flex align-items-center justify-content-center border border-2 border-dashed p-3 bg-light">
                <input #fileInput type="file" (change)="onFileSelected($event)" accept="image/*"
                  class="position-absolute w-100 h-100 opacity-0" style="cursor: pointer;" aria-label="Upload image">
                <div class="text-center">
                  <img src="assets/images/no-image-icon-23485.png" alt="Upload image" class="img-fluid mb-3"
                    style="max-width: 80px;" (click)="fileInput.click()">
                  <p class="text-muted mb-0">Click to upload image</p>
                </div>
              </div>
            </div>
            <div class="carousel-caption d-none d-md-block">
              <h5>Add New Image</h5>
            </div>
          </div>

          <div class="carousel-item" *ngFor="let item of heroSection?.heroSectionImageDTOs; let i = index">
            <div class="ratio ratio-16x9 position-relative">
              <img [src]="item.imageUrl" [alt]="'Hero image ' + (i + 1)" class="w-100 h-100 object-fit-cover">
              <div
                class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column align-items-center justify-content-center bg-dark bg-opacity-50 hover-overlay">

                <input [id]="'editImage' + i" type="file" accept="image/*" class="d-none"
                  (change)="onImageChange($event,item.id)">
                <label [for]="'editImage' + i" class="btn btn-outline-light mb-2">
                  <i class="pi pi-pencil me-2"></i>
                  <span>Edit Image</span>
                </label>
                <p class="text-white m-0">Click to edit image</p>
              </div>
            </div>
          </div>
        </div>

        <button class="carousel-control-prev bg-dark bg-opacity-50 rounded-end" type="button"
          data-bs-target="#heroImagesCarousel" data-bs-slide="prev"
          style="width: 40px; height: 40px; top: auto; bottom: 15px; left: 15px;">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next bg-dark bg-opacity-50 rounded-start" type="button"
          data-bs-target="#heroImagesCarousel" data-bs-slide="next"
          style="width: 40px; height: 40px; top: auto; bottom: 15px; right: 15px;">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
</div>